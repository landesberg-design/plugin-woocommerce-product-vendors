jQuery(document).ready(function(n){"use strict";n.wc_product_vendors_vendor_admin={showHideBookings:function(){switch(n("select#product-type").val()){case"booking":n(".show_if_booking").show();break;case"simple":n(".show_if_booking:not(.show_if_simple)").hide();break;default:n(".show_if_booking").hide()}},init:function(){n("#your-profile tr.show-admin-bar").remove(),wcpv_vendor_admin_local.isPendingVendor&&n("#dashboard-widgets").html('<p class="wcpv-pending-vendor-message">'+wcpv_vendor_admin_local.pending_vendor_message+"</p>"),n(".taxonomy-wcpv_product_vendors, .toplevel_page_wcpv-vendor-settings").on("click",".wcpv-upload-logo",function(e){e.preventDefault();var e=wcpv_vendor_admin_local,o=n(this).parents(".form-field").find('input[name="vendor_data[logo]"]'),t=n(this).parents(".form-field").find(".wcpv-logo-preview-image"),r=wp.media.frames.mediaFrame=wp.media({title:e.modalLogoTitle,button:{text:e.buttonLogoText},library:{type:"image"},multiple:!1});r.on("select",function(){r.state().get("selection").map(function(e){(e=e.toJSON()).id&&(o.val(e.id),t.prop("src",e.url).removeClass("hide"),n(o).parents(".form-field").find(".wcpv-remove-image").show())})}),r.open()}),n(".taxonomy-wcpv_product_vendors, .toplevel_page_wcpv-vendor-settings").on("click",".wcpv-remove-image",function(e){e.preventDefault(),n(this).hide(),n(this).parents(".form-field").find(".wcpv-logo-preview-image").prop("src","").addClass("hide"),n('input[name="vendor_data[logo]"]').val("")}),n(".vendor #catalog-visibility").hide(),n("#general_product_data #_tax_status").prop("disabled",!0).parents(".options_group").hide(),n("#product_shipping_class").parents(".options_group").hide(),n(document.body).on("woocommerce_variations_loaded woocommerce_variations_added",function(){n('select[id^="variable_shipping_class"]').parent("p").hide(),n('select[name^="variable_tax_class"]').parent("p").hide()}),n("#wpadminbar").on("click",".wcpv-vendor-switch",function(e){e.preventDefault();e={action:"wc_product_vendors_switch",switch_vendor_nonce:n(this).find("#wcpv_vendor_switch_nonce").val(),vendor:n(this).find(".wcpv-vendor").val()};n.post(wcpv_vendor_admin_local.ajaxurl,e,function(e){"switched"===e&&location.reload(!0)})}),n(document.body).on("submit","form.wcpv-vendor-support-form",function(e){e.preventDefault();var e={action:"wc_product_vendors_vendor_support",ajaxVendorSupportNonce:n("#wcpv_vendor_support_nonce").val(),form_items:n(this).serialize()},o=n(this);n(".wcpv-vendor-support-form-message").remove(),o.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),n.post(wcpv_vendor_admin_local.ajaxurl,e,function(e){var t;o.unblock(),e.length&&"success"===e?(o.before('<p class="wcpv-vendor-support-form-success wcpv-vendor-support-form-message">'+wcpv_vendor_admin_local.vendorSupportSuccess+"</p>"),n("input, textarea",o).not('input[type="submit"]').val("")):(t="",n.each(e.errors,function(e,o){t+='<span class="error">'+o+"</span>"}),o.before('<div class="wcpv-vendor-support-form-errors wcpv-vendor-support-form-message">'+t+"</div"))})}),n("#woocommerce-order-notes").on("click","a.add_note",function(){var e;if(n("textarea#add_order_note").val())return n("#woocommerce-order-notes").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e={action:"wc_product_vendors_vendor_add_order_note",post_id:n(this).data("id"),note:n("textarea#add_order_note").val(),note_type:n("select#order_note_type").val(),security:n("#wcpv_add_order_note_nonce").val()},n.post(wcpv_vendor_admin_local.ajaxurl,e,function(e){n("ul.order_notes").prepend(e),n("#woocommerce-order-notes").unblock(),n("#add_order_note").val("")}),!1}),n(document.body).on("woocommerce_added_attribute",function(){n("#product_attributes").find(".add_new_attribute").remove()}),n(document.body).on("woocommerce-product-type-change",function(){n("._tax_status_field").parent().remove(),n("._tax_status_field").remove(),n("._tax_class_field").parent().remove(),n("._tax_class_field").remove(),n.wc_product_vendors_vendor_admin.showHideBookings()}),n(".inline-edit-col .product_shipping_class-checklist").prev().prev(".title.inline-edit-categories-label").remove(),n(".inline-edit-col .product_shipping_class-checklist").remove(),n(".tax_status").parent().prev(".title").remove(),n(".tax_status").remove(),n(".tax_class").parent().prev(".title").remove(),n(".tax_class").remove(),n(".shipping_class").parent().prev(".title").remove(),n(".shipping_class").remove(),n(".pass-shipping-tax").parent().prev(".title").remove(),n(".pass-shipping-tax").remove(),n(".inline-edit-product select.featured").parents("label").eq(0).remove(),n(".inline-edit-product label.featured").remove(),n(".inline-edit-product select.visibility").parents("label").eq(0).remove(),n(".inline-edit-product select.visibility").closest("label").remove();var e=n("#woocommerce-customer-data").find("tr.view");e.length&&e.find("a").not('[href*="wcpv-vendor-order"]').remove(),n.wc_product_vendors_vendor_admin.showHideBookings(),n("#product_attributes").find(".add_new_attribute").remove()}},n.wc_product_vendors_vendor_admin.init()});
