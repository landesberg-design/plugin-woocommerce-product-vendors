jQuery(document).ready((function(e){"use strict";e.wc_product_vendors_vendor_admin={showHideBookings:function(){switch(e("select#product-type").val()){case"booking":e(".show_if_booking").show();break;case"simple":e(".show_if_booking:not(.show_if_simple)").hide();break;default:e(".show_if_booking").hide()}},init:function(){e("#your-profile tr.show-admin-bar").remove(),wcpv_vendor_admin_local.isPendingVendor&&e("#dashboard-widgets").html('<p class="wcpv-pending-vendor-message">'+wcpv_vendor_admin_local.pending_vendor_message+"</p>"),e(".taxonomy-wcpv_product_vendors, .toplevel_page_wcpv-vendor-settings").on("click",".wcpv-upload-logo",(function(o){o.preventDefault();var t=wcpv_vendor_admin_local,r=e(this).parents(".form-field").find('input[name="vendor_data[logo]"]'),n=e(this).parents(".form-field").find(".wcpv-logo-preview-image"),i=wp.media.frames.mediaFrame=wp.media({title:t.modalLogoTitle,button:{text:t.buttonLogoText},library:{type:"image"},multiple:!1});i.on("select",(function(){i.state().get("selection").map((function(o){(o=o.toJSON()).id&&(r.val(o.id),n.prop("src",o.url).removeClass("hide"),e(r).parents(".form-field").find(".wcpv-remove-image").show())}))})),i.open()})),e(".taxonomy-wcpv_product_vendors, .toplevel_page_wcpv-vendor-settings").on("click",".wcpv-remove-image",(function(o){o.preventDefault(),e(this).hide(),e(this).parents(".form-field").find(".wcpv-logo-preview-image").prop("src","").addClass("hide"),e('input[name="vendor_data[logo]"]').val("")})),e(".vendor #catalog-visibility").hide(),e("#general_product_data #_tax_status").prop("disabled",!0).parents(".options_group").hide(),e("#product_shipping_class").parents(".options_group").hide(),e(document.body).on("woocommerce_variations_loaded woocommerce_variations_added",(function(){e('select[id^="variable_shipping_class"]').parent("p").hide(),e('select[name^="variable_tax_class"]').parent("p").hide()})),e("#wpadminbar").on("click",".wcpv-vendor-switch",(function(o){o.preventDefault();var t={action:"wc_product_vendors_switch",switch_vendor_nonce:e(this).find("#wcpv_vendor_switch_nonce").val(),vendor:e(this).find(".wcpv-vendor").val()};e.post(wcpv_vendor_admin_local.ajaxurl,t,(function(e){"switched"===e&&location.reload(!0)}))})),e(document.body).on("submit","form.wcpv-vendor-support-form",(function(o){o.preventDefault();var t={action:"wc_product_vendors_vendor_support",ajaxVendorSupportNonce:e("#wcpv_vendor_support_nonce").val(),form_items:e(this).serialize()},r=e(this);e(".wcpv-vendor-support-form-message").remove(),r.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.post(wcpv_vendor_admin_local.ajaxurl,t,(function(o){if(r.unblock(),o.length&&"success"===o)r.before('<p class="wcpv-vendor-support-form-success wcpv-vendor-support-form-message">'+wcpv_vendor_admin_local.vendorSupportSuccess+"</p>"),e("input, textarea",r).not('input[type="submit"]').val("");else{var t="";e.each(o.errors,(function(e,o){t+='<span class="error">'+o+"</span>"})),r.before('<div class="wcpv-vendor-support-form-errors wcpv-vendor-support-form-message">'+t+"</div")}}))})),e("#woocommerce-order-notes").on("click","a.add_note",(function(){if(e("textarea#add_order_note").val()){e("#woocommerce-order-notes").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var o={action:"wc_product_vendors_vendor_add_order_note",post_id:e(this).data("id"),note:e("textarea#add_order_note").val(),note_type:e("select#order_note_type").val(),security:e("#wcpv_add_order_note_nonce").val()};return e.post(wcpv_vendor_admin_local.ajaxurl,o,(function(o){e("ul.order_notes").prepend(o),e("#woocommerce-order-notes").unblock(),e("#add_order_note").val("")})),!1}})),e(document.body).on("woocommerce_added_attribute",(function(){e("#product_attributes").find(".add_new_attribute").remove()})),e(document.body).on("woocommerce-product-type-change",(function(){e("._tax_status_field").parent().remove(),e("._tax_status_field").remove(),e("._tax_class_field").parent().remove(),e("._tax_class_field").remove(),e.wc_product_vendors_vendor_admin.showHideBookings()})),e(".inline-edit-col .product_shipping_class-checklist").prev().prev(".title.inline-edit-categories-label").remove(),e(".inline-edit-col .product_shipping_class-checklist").remove(),e(".tax_status").parent().prev(".title").remove(),e(".tax_status").remove(),e(".tax_class").parent().prev(".title").remove(),e(".tax_class").remove(),e(".shipping_class").parent().prev(".title").remove(),e(".shipping_class").remove(),e(".pass-shipping-tax").parent().prev(".title").remove(),e(".pass-shipping-tax").remove(),e(".inline-edit-product select.featured").parents("label").eq(0).remove(),e(".inline-edit-product label.featured").remove(),e(".inline-edit-product select.visibility").parents("label").eq(0).remove(),e(".inline-edit-product select.visibility").closest("label").remove();var o=e("#woocommerce-customer-data").find("tr.view");o.length&&o.find("a").not('[href*="wcpv-vendor-order"]').remove(),e.wc_product_vendors_vendor_admin.showHideBookings(),e("#product_attributes").find(".add_new_attribute").remove()}},e.wc_product_vendors_vendor_admin.init()}));